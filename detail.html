<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>장소 상세 정보</title>
    <style>
        /* 스타일링은 선택적으로 추가할 수 있습니다. */
    </style>
    <script type = "module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
        import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";


        // Firebase 구성 정보 설정
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyCqOAuTxvcgJn46nyyeuwN1keffqdAcgeY",
            authDomain: "spartateam9-dae30.firebaseapp.com",
            projectId: "spartateam9-dae30",
            storageBucket: "spartateam9-dae30.appspot.com",
            messagingSenderId: "86541193674",
            appId: "1:86541193674:web:d511323cd290d277073f33",
            measurementId: "G-Z2L0WZZ79B"
        };

        // Firebase 인스턴스 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        var urlParams = new URLSearchParams(window.location.search);
        var data = urlParams.get('data');
        let docs = await getDocs(collection(db, "travels"));
        
        docs.forEach((doc) => {
                let row = doc.data();

                let place = row["place"];
                let image = row['image'];
                let score = row['score'];
                let time = row['time'];
                let review = row['review'];
                let located = row['located'];
                let phone = row['phone'];
                if(place == data){
                    
                    let temp_html=`
                    <div >
                        <p >${image}"                         <p>
                    <p >장소명 : ${place}</p>
                    
                    <p >위치 : ${located}</p>
                    <p >전화번호 : ${phone}</p>
                    <p >영업시간 : ${time}</p>
                    <p >별점 : ${score}</p>
                    <p >후기 : ${review}</p>
                     
                    </div>
                    `
                    $('#card').append(temp_html);
                    
                }
            
        });
    </script>
</head>
<body>
    <div id="card">

    </div>
    <div>
        <h1>하이하이</h1>
    </div>
</body>
</html>